{"version":3,"file":"KaroBackbone.min.js","sources":["app\\ChatApp.js","app\\KaropapierApp.js","layout\\ChatLayout.js","model\\ChatMessage.js","model\\ChatUser.js","model\\Game.js","model\\Map.js","model\\MapPathFinder.js","model\\MapRenderPalette.js","model\\Move.js","model\\MoveCollection.js","model\\MoveMessage.js","model\\Player.js","model\\User.js","model\\Util.js","model\\ViewSettings.js","collection\\ChatMessageCollection.js","collection\\ChatUserCollection.js","collection\\MoveMessageCollection.js","collection\\PlayerCollection.js","view\\ChatMessageView.js","view\\ChatMessagesView.js","view\\ChatUsersView.js","view\\EditorMapView.js","view\\EditorToolsView.js","view\\EditorView.js","view\\GameAppNavigationView.js","view\\GameAppView.js","view\\GameInfoView.js","view\\GameView.js","view\\MapBaseView.js","view\\MapCodeView.js","view\\MapImageView.js","view\\MapRenderView.js","view\\MapSvgView.js","view\\MoveMessageView.js","view\\PlayerCollectionView.js","view\\UserView.js","router\\EditorAppRouter.js","router\\GameAppRouter.js"],"names":["ChatApp","Backbone","Marionette","Layout","extend","initialize","this","layout","ChatLayout","el","render","configuration","Model","set","chatMessageCollection","ChatMessageCollection","chatMessagesView","ChatMessagesView","model","collection","chatUserCollection","ChatUserCollection","chatUsersView","ChatUsersView","refreshMessages","setInterval","fetch","bind","chatMessages","show","chatInfo","KaropapierApp","template","window","regions","chatEnter","ChatMessage","ChatUser","Game","defaults","id","url","get","parse","data","game","map","cpsActive","cps","silent","playersData","players","_","each","playerData","lastmove","Move","moves","MoveCollection","reset","console","warning","Map","moveMessages","MoveMessageCollection","PlayerCollection","load","info","rows","cols","bindAll","updateMapcode","e","mapcode","updateSize","trimcode","toUpperCase","replace","updateStarties","updateCpList","match","length","sort","filter","i","a","indexOf","lines","split","line","trim","setFieldAtRowCol","r","c","field","pos","getPosFromRowCol","substr","getFieldAtRowCol","undefined","charAt","FIELDS","F","O","P","S","V","W","X","Y","Z",".","1","2","3","4","5","6","7","8","9","Path","PathCollection","Collection","MapPathFinder","WILDCARD_FIELDS","modifiers","top","right","bottom","left","directions","-1|0","0|1","1|0","0|-1","outlineModifiers","from","to","outlines","getMainField","occurrences","string","subString","allowOverlapping","n","step","mc","mostChar","charCount","char","nb","getAllOutlines","getFieldOutlines","getSvgPathFromOutlines","s","path","emergencyBreak","lastR","lastC","lastDirection","firstOutline","first","values","y1","x1","getOutlineDirection","isEmpty","searchKey","getKeyForRowCol","o","shift","thisDirection","x2","y2","outline","x","y","getRowColFromKey","k","parseInt","testField","currentField","direction","mod","testR","testC","fromMod","toMod","push","MapRenderPalette","road","roadspecle","offroad","offroadspecle","offroadsand","offroadsandspecle","offroadmud","offroadmudspecle","offroadmountain","offroadmountainspecle","offroadwater","offroadwaterspecle","start1","start2","finish1","finish2","checkpoint1","checkpoint2","checkpoint3","checkpoint4","checkpoint5","checkpoint6","checkpoint7","checkpoint8","checkpoint9","checkpointBgOdd","checkpointBgEven","fog","fogspecle","parc","setAlias","alias","Ospecle","Vspecle","Wspecle","Xspecle","Yspecle","Zspecle",".specle","origin","getRGB","xv","yv","MoveMessage","Player","User","ModelFactory","login","karo","Util","linkify","text","all","gid","$","getJSON","gameInfo","name","Karopapier","ViewSettings","size","border","fillBorder","specles","addItem","comparator","mm","models","options","player","move","add","trigger","ChatMessageView","View","tagName","$el","html","attr","on","removeItem","message_limit","limit","chatMessage","log","chatMessageView","append","hide","fadeIn","empty","last","delItem","user","chatUserView","UserView","withGames","withAnniversary","withDesperation","li","chatUser","EditorMapView","$this","settings","tools","mapRenderView","MapRenderView","css","display","events","mousedown","mouseup","mouseleave","contextmenu","draw","buttonDown","pageX","offset","pageY","setFieldAtXY","buttonColor","which","preventDefault","mousemove","unbind","EditorToolsView","JST","slider","value","min","max","event","ui","highlightActiveField","mousedown .fieldSelector","removeClass","addClass","selectField","currentTarget","EditorView","mapView","mapViewSettings","mapArea","toolsArea","toolsView","codeArea","codeView","MapCodeView","editorMapView","val","starties","join","down","click .loadMapcode","loadMapId","mapId","loadMapcode","GameAppNavigationView","ItemView","click .back","click .next","click .smaller","click .bigger","smallerView","app","gameAppView","gameView","biggerView","backGame","oldId","router","navigate","nextGame","GameAppView","GameView","navigation","GameInfoView","latestMessages","MoveMessageView","redraw","close","alert","remove","content","setTitle","setGameId","gameId","mapName","mapAuthor","gameCreator","gameCreated","gameDir","gameCps","gameTc","gameZzz","mapImageView","MapImageView","playersView","PlayerCollectionView","MapBaseView","optionDefaults","updateFieldSize","fieldSize","getRowColFromXY","getRowFromY","getColFromX","Math","floor","getXYFromRowCol","getXFromCol","getYFromRow","getFieldAtXY","rc","old","setBounds","setCode","getCode","className","tag","constructor","__super__","apply","arguments","mapid","palette","width","height","ctx","getContext","fillStyle","lineWidth","fillRect","drawField","fillColor","specleColor","drawStandardField","drawFlagField","fg","bg","drawStartField","specle","beginPath","rect","fill","drawSpecles","drawBorder","xr","round","random","yr","strokeStyle","moveTo","lineTo","stroke","closePath","c1","c2","factor","sende","m","xm","yn","newSize","MapSvgView","initSvg","adjustSize","paths","mapPathFinder","w","h","$SVG","svgTemplate","MapTemplate","svgDOM","DOMParser","parseFromString","SVG","documentElement","appendChild","mainchar","mainclass","find","$paths","fieldClass","p","makeSVG","d","class","attrs","document","createElementNS","setAttribute","filtered","playerTemplate","color","moveCount","crashCount","lm","moment","toDate","format","diff","Date","abs","fromNow","status","dran","position","moved","items","EditorAppRouter","Router","routes","editor/:mapId","editor","loadMap","AppRouter","game/:gameId","showGame"],"mappings":"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"}