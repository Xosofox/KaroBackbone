<!doctype html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Backbone Routing</title>
    </head>

    <body>
        <div id="container">
            <div id="sidebar">
                <ul id="navi">
                    <li><a href="#game/70321">Spiel</a></li>
                    <li><a href="#game/70178">Nacht</a></li>
                    <li><a href="#game/70179">Nacht2</a></li>
                    <li><a href="#editor/1">Map 1</a></li>
                    <li><a href="#editor">Map 0</a></li>
                    <li><a href="#editor/5">Map 5</a></li>
                </ul>
            </div>
        <div id="content">
        </div>

        <script type="text/javascript" src="../js/libs/underscore-min.js"></script>
        <script type="text/javascript" src="../js/libs/jquery-1.7.2.min.js"></script>
        <script type="text/javascript" src="../js/libs/backbone-min.js"></script>

        <script type="text/javascript">
            var app;
            $(document).ready(function() {
                app=new AppView();
                app.gameRouter= new GameRouter();
                app.editorRouter= new EditorRouter();
                window.history.pushState;
                Backbone.history.start();
            });

            var AppView=Backbone.View.extend();

            var GameRouter = Backbone.Router.extend({
                routes: {
                    "game/:gameId": "showGame",
                    "game": "showGame",
                    "": "showGame"
                },

                showGame: function(gameId) {
                    gameId = gameId || 70000;
                    console.info("Routing to Game "+gameId);
                }
            });


            var EditorRouter = Backbone.Router.extend({
                routes: {
                    "editor/:mapId": "loadMap",
                    "editor": "loadMap",
                    "": "loadMap"
                },

                loadMap: function(mapId,e,c) {
                    mapId = mapId || 1;
                    console.info("Loading Editor Map "+mapId);
                }
            });


        </script>
    </body>
</html>
